<Window x:Class="PathFind.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:cmd="clr-namespace:PathFind.Commands"
        xmlns:m="clr-namespace:PathFind.Models"
        xmlns:vm="clr-namespace:PathFind.ViewModels"
        xmlns:v="clr-namespace:PathFind.Views"
        Title="MainWindow" Height="620" Width="700">
    <Window.CommandBindings>
        <CommandBinding Command="ApplicationCommands.Open" Executed="OnOpen" />
        <CommandBinding Command="ApplicationCommands.Save" Executed="OnSave" />
        <CommandBinding Command="ApplicationCommands.New" Executed="OnNew" />
        <CommandBinding Command="cmd:MainCommands.Exit" Executed="OnExit" />
    </Window.CommandBindings>
    <Window.Resources>
        <m:Map x:Key="map" RowCount="16" ColumnCount="16" />
        <vm:MapVM x:Key="mapVM" Map="{StaticResource ResourceKey=map}" CellSize="32,32" />
    </Window.Resources>
    <Window.DataContext>
        <StaticResource ResourceKey="map"/>
    </Window.DataContext>
    <Grid>
        <Menu Height="23" Name="menu1" VerticalAlignment="Top">
            <MenuItem Header="Map">
                <MenuItem Header="New" Command="ApplicationCommands.New" />
                <MenuItem Header="Open" Command="ApplicationCommands.Open" />
                <MenuItem Header="Save" Command="ApplicationCommands.Save" />
                <Separator />
                <MenuItem Header="Exit" Command="cmd:MainCommands.Exit" />
            </MenuItem>
            <MenuItem Header="Cell">
                <MenuItem Header="Set Passability" IsCheckable="True" />
                <MenuItem Header="Set Start" IsCheckable="True" />
                <MenuItem Header="Set Goal" IsCheckable="True" />
            </MenuItem>
            <MenuItem Header="Path">
                <MenuItem Header="Start Finding" Command="{Binding Source={StaticResource mapVM}, Path=StartPathingCommand}" />
                <MenuItem Header="Stop Finding" Command="{Binding Source={StaticResource mapVM}, Path=StopPathingCommand}" />
            </MenuItem>
        </Menu>
        <ScrollViewer Name="scrollViewer1" Margin="0,24,0,0" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto" Background="Gainsboro">
            <v:MapView x:Name="mapView1" DataContext="{Binding Source={StaticResource mapVM}}" SelectedCellBrush="#FFEBEBEB" Width="{Binding Path=ViewWidth}" Height="{Binding Path=ViewHeight}" RowCount="{Binding Path=Map.RowCount}" ColumnCount="{Binding Path=Map.ColumnCount}">
                <v:MapView.StartCellBrush>
                    <RadialGradientBrush>
                        <GradientStop Color="#FF17B117" Offset="0" />
                        <GradientStop Color="DarkGreen" Offset="1" />
                    </RadialGradientBrush>
                </v:MapView.StartCellBrush>
                <v:MapView.GoalCellBrush>
                    <RadialGradientBrush>
                        <GradientStop Color="#FFF84646" Offset="0" />
                        <GradientStop Color="DarkRed" Offset="1" />
                    </RadialGradientBrush>
                </v:MapView.GoalCellBrush>
            </v:MapView>
        </ScrollViewer>
    </Grid>
</Window>
