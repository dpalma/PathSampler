<Window x:Class="PathFind.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:cmd="clr-namespace:PathFind.Commands"
        xmlns:m="clr-namespace:PathFind.Models"
        xmlns:vm="clr-namespace:PathFind.ViewModels"
        xmlns:v="clr-namespace:PathFind.Views"
        Title="MainWindow" Height="620" Width="700">
    <Window.CommandBindings>
        <CommandBinding Command="cmd:MainCommands.Exit" Executed="OnExit" />
    </Window.CommandBindings>
    <Window.Resources>
        <m:Map x:Key="map" RowCount="16" ColumnCount="16" />
        <vm:MainWindowVM x:Key="mainWindowVM" Map="{StaticResource ResourceKey=map}" />
    </Window.Resources>
    <Window.DataContext>
      <StaticResource ResourceKey="mainWindowVM"/>
    </Window.DataContext>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
        </Grid.RowDefinitions>
        <Menu Name="menu1" VerticalAlignment="Top">
            <MenuItem Header="Map">
                <MenuItem Header="New" Command="{Binding Path=NewCommand}" />
                <MenuItem Header="Open" Command="{Binding Path=OpenCommand}" />
                <MenuItem Header="Save" Command="{Binding Path=SaveCommand}" />
                <Separator />
                <MenuItem Header="Exit" Command="cmd:MainCommands.Exit" />
            </MenuItem>
            <MenuItem Header="Path">
                <MenuItem Header="Start Finding" Command="{Binding Path=MapVM.StartPathingCommand}" />
                <MenuItem Header="Stop Finding" Command="{Binding Path=MapVM.StopPathingCommand}" />
            </MenuItem>
        </Menu>
        <ScrollViewer Name="scrollViewer1" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto" Background="Gainsboro" Grid.Row="1">
            <v:MapView x:Name="mapView1" DataContext="{Binding Path=MapVM}" SelectedCellBrush="#FFEBEBEB" RowCount="{Binding Path=Map.RowCount}" ColumnCount="{Binding Path=Map.ColumnCount}" Width="{Binding RelativeSource={RelativeSource Self}, Path=ViewWidth}" Height="{Binding RelativeSource={RelativeSource Self}, Path=ViewHeight}" SnapsToDevicePixels="True" GridLineBrush="Gainsboro" SelectedCells="{Binding Path=SelectedCells}">
                <v:MapView.StartCellBrush>
                    <RadialGradientBrush>
                        <GradientStop Color="#FF17B117" Offset="0" />
                        <GradientStop Color="DarkGreen" Offset="1" />
                    </RadialGradientBrush>
                </v:MapView.StartCellBrush>
                <v:MapView.GoalCellBrush>
                    <RadialGradientBrush>
                        <GradientStop Color="#FFF84646" Offset="0" />
                        <GradientStop Color="DarkRed" Offset="1" />
                    </RadialGradientBrush>
                </v:MapView.GoalCellBrush>
            </v:MapView>
        </ScrollViewer>
    </Grid>
</Window>
